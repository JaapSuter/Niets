package com.jaapsuter.niets.test.blackberry;

import net.rim.device.api.ui.container.MainScreen;
import java.io.*;
import javax.microedition.io.*;

import com.jaapsuter.niets.Niets;

public final class Screen extends MainScreen
{
	private InputStream _in;
    private OutputStreamWriter _out;        
    
    public Screen()
    {        
        // Set the displayed title of the screen       
        setTitle("Niets");
        
        
        Niets.Run();
    }
    
    private void exchange(String data) throws IOException
    {
        // Cache the length locally for better efficiency.
        int length = data.length();
        
        // Create an input array just big enough to hold the data
        // (we're expecting the same string back that we send).
        char[] input = new char[length];
        _out.write(data, 0, length);

        // Read character by character into the input array.
        for (int i = 0; i < length; ++i) 
        {
            input[i] = (char)_in.read();
        }        

        // Hand the data to the parent class for updating the GUI. By explicitly 
        // creating the stringbuffer we can save a few object creations.
        StringBuffer s = new StringBuffer();
        s.append("Received: ") ;
        s.append(input, 0, length);
        
        System.out.print(s.toString());
    }

}
